#!/bin/bash



        Encode () {

        a="$(cat $2)"
        shopt -s extglob
        eval A_+=(\$\'\\\\\\{1,0}{0..7}{0..7}\')
        B_=(${A_[@]//[\\|\*|[:cntrl:]]/})
        eval declare -A C_[\${B_[D++]/#/\\\\}]={00..96}
        eval C_[{96..00}]=${B_[$((--D))]/#/\\}
        C_+=([$'\n']=99 [' ']=98 [\*]=97 [99]=$'\n' [98]=' ' [99]=$'\n')
        [[ $1 = F ]] && X=1

                for (( A=0; A <= ${#a}; A=A+${X:=2} )); do
                echo -n "${C_["${a:$A:${X:=2}}"]}"
                done

        }


Encode "$@"
